RTSP 摄像头压力与稳定性测试工具
简介
这是一个基于 Python 和 Tkinter 的多线程 RTSP 摄像头压力与稳定性测试工具。它通过模拟大量客户端并发连接并持续拉取 RTSP 视频流，来测试摄像头的承压能力和长期运行的稳定性。

为了最大化性能并降低资源消耗，工具的核心逻辑仅使用 cv2.VideoCapture 的 grab() 方法来抓取帧数据，而不进行耗时的视频解码，从而将 CPU 占用降至最低。

核心功能
多线程并发： 支持同时监控多个 RTSP 地址，并可为每个地址配置多个拉流线程，模拟高并发场景。

轻量级监控： 只抓取帧而不解码，极大地减少了 CPU 资源消耗。

实时状态反馈： GUI 界面实时显示连接状态、重连次数、有效帧率等关键指标。

线程安全日志： 采用线程安全的日志队列，彻底解决了多线程日志混乱和交错的问题，保证日志输出的清晰和有序。

后台停止： 优化了停止监控的逻辑，将耗时的线程清理操作移至后台，确保主 GUI 界面在任何时候都响应迅速，不会卡顿。

详细日志记录： 自动为每个监控线程生成独立的日志文件，便于事后分析。

最新版本更新
v14： 彻底解决了日志混乱和交错问题。引入了线程安全的日志队列。

v15： 优化了停止监控的用户体验，使用后台线程来等待线程结束，并提供进度反馈。

v16： 优化了日志别名显示，使用简洁的数字序号。

v17： 改进了多实例日志别名显示，采用 [序号-拉取次数] 格式。

v18： 修复了日志别名不连续和鼠标滚轮事件相互干扰的问题。

v19： 修复了日志显示重复线程别名的问题，使日志更简洁。

v20： 移除了 GUI 日志显示中的线程编号，但文件日志中保留。

v21： 修复了上一版本的问题，现在文件日志中不显示线程编号，而 GUI 日志中正常显示。

安装与依赖
本项目需要以下依赖库：

opencv-python

tkinter (通常随 Python 默认安装)

您可以使用 pip 安装所需的库：

pip install opencv-python

使用方法
运行脚本： 直接运行 Python 脚本文件。

添加地址： 在“RTSP 地址”输入框中填写地址，选择“拉取次数”，然后点击“添加地址”。

启动监控： 添加完所有地址后，点击“启动监控”按钮。

停止监控： 随时点击“停止监控”按钮，程序将安全地停止所有监控线程。

查看日志： 实时日志会显示在主界面的日志输出框中。同时，每个监控线程的详细日志将保存在项目根目录下的 LOG 文件夹中。

文件结构
.
├── 4.py             # 主程序文件
└── LOG/             # 存放所有监控日志的文件夹
    ├── 127.0.0.1_0.log
    ├── 192.168.0.226_1.log
    └── ...
